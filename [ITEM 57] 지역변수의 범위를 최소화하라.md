# Item 57 - 지역변수의 범위를 최소화하라

# 지역변수의 범위를 최소화해야 하는 이유?

지역 변수의 유효 범위를 최소로 줄이게 된다면...

- 코드 가독성과 유지보수성이 높아짐
- 오류 가능성은 낮아짐

→ 자바에서는 문장을 선언할 수 있는 곳이면 어디서든 변수 선언 가능!

# 지역변수의 범위를 최소화 하는 방법 4가지

- 변수를 가장 처음 쓰일 때 선언하기
- 지역변수는 선언과 동시에 초기화하기
- `while`문 보다 `for` 문을 사용하기
- 메서드를 작게 유지하고 한 가지 기능에 집중하기

## 1. 변수를 가장 처음 쓰일 때 선언하기

지역변수의 범위를 줄이는 가장 강력한 기법!!

**변수를 맨 처음에 선언했을 때 발생하는 문제점**

- 코드가 어수선해져 가독성 떨어짐
- 변수를 실제로 사용하는 시점엔 타입과 초기값 기억X 가능성 존재
- 변수가 쓰이는 범위보다 너무 앞서 선언되고 다 쓴 뒤에서 살아있게 됨
→지역변수의 범위는 선언된 지점부터 그 지점의 포함한 블록이 끝날 때까지

## 2. 지역 변수는 선언과 동시에 초기화하기

초기화에 필요한 정보가 충분하지 않다면 충분해질 때까지 선언을 미뤄야 함

**그럼 try-catch 에서는?**

try-catch에서는 예외!!

만약 변수 초기화 표현식이 검사 예외 던질 가능성 존재한다면 → try 블록 안에서 초기화

하지만 try 블록 바깥에서도 사용해야 한다면 → try 블록 앞에서 선언

```java
Obejct o;

try{
	o = m.getObejct();
}catch(Exception e){
	print(e);
}
```

## 3. while문 보다 for 문을 사용하기

반복문 → 독특한 방식으로 변수 범위 초기화

- 반복 변수의 범위가 반복문의 몸체로 제한
- for 키워드가 몸체 사이의 괄호 안으로 제한

→ 반복 변수의 값을 반복문이 종료된 뒤에서 써야하는 상황 아니면 `while`문 보다는 `for` 문 사용하기!

### for, for-each 무엇을 사용해야 할까?

- `for` 문 사용 권장 → 반복자를 사용해야 하는 경우
- `for-each` 문 사용 권장 → 컬렉션이나 배열을 순회하는 경우

```java
//for-each 문
for(Element e : c){
	...
}

//for 문
for(Interator<Element> i = c.iterator(); i.hasNext();){
	Element e = i.next();
	...
}
```

### for(for-each)문의 장점

- 반복문이 사용한 원소, 반복자의 유효 범위가 반복문 종료화 함께 끝남
    - 복사해 붙여넣기의 오류를 컴파일 타임에 잡아줌
- 변수 유효 범위가 for 문 범위와 일치해 같은 이름의 변수 사용 가능
- while 문보다 짧아서 가독성이 좋음

## 4. 메서드를 작게 유지하고 한 가지 기능에 집중하기

한 메서드에서 여러 가지 기능을 처리 
→ 그중 한 기능과만 관련된 지역변수라도 다른 기능을 수행하는 코드에서 접근 가능

해결방버 : 단순히 메서드를 기능별로 쪼개기!