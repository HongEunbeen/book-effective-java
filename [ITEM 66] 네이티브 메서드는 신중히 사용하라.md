# Item 66 - 네이티브 메서드는 신중히 사용하라

# Java 네이티브 인터페이스(Java Native Interface)

자바 프로그램이 네이티브 메서드를 호출하는 기술로 네이티브 메서드란 c, c++같은 네이티브 프로그래밍 언어로 작성한 메서드를 말합니다.

전통적인 네이티브 메서드의 주요 쓰임은

- 레지스트리 같은 플렛폼 특화 기능을 사용합니다.
- 네이티브 코드로 작성된 기존 라이브러리를 사용합니다.
    - ex ) 레거시 데이터를 사용하는 레거시 라이브러리
- 성능 개선을 목적으로 성능에 결정적인 영향을 주는 영역만 따로 네이티브 언어로 작성합니다.

이렇게 3가지 입니다.

고성능의 다중 정밀 연산이 필요한 자바 프로그래머라면 네이티브 메서드를 통해 GMP를 사용하는 걸 고려해도 좋습니다.

하지만, 성능을 개선할 목적으로 네이티브 메서드를 사용하는 것은 거의 권장하지 않습니다.

심각한 단점이 존재하기 때문인데요

- 네이티브 언어가 안전하지 않으므로 네이티브 메서드를 사용하는 애플리케이션도 메모리 훼손 오류로부터 안전하지 않습니다.
- 자바보다 플렛폼을 많이 타 이식성이 낮습니다.
- 디버깅이 어렵습니다.
- 속도가 오히려 느려질 가능성이 존재합니다.
- 가비지 컬렉터가 네이티브 메모리는 자동 회수하지 못하고 추적 조차 불가합니다.
- 자바 코드와 네이티브 코드의 경계를 넘나들 떄마다 비용이 추가 되고 접착 코드로 인해 가독성이 떨어집니다.